<div class="card-block">
    <div class="row">
        <div class="col-md-12">
            <div class="card-block">
                <div class="row">
                    <div class="col-md-12">
                        <section class="card">
                            <div class="card-header" style="padding: .6rem 1.25rem;">
                                <span class="cat__core__title" style="position:relative; top:4px">
                                        <strong>Detalle orden #{{orderId}}</strong>
                                    </span>
                                <div id="collapseExample" style="width:100%">
                                    <div class="card-block">
                                        <form #form name="form" (ngSubmit)="addOrderItem(newItem)">
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <p-autoComplete [dropdown]="true" required field="Name" name="origin" [(ngModel)]="newItem.Concept" [suggestions]="resultsSearchConcept" (completeMethod)="searchConcept($event)"></p-autoComplete>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <span class="ui-float-label">
														    <input id="quantity" required type="number" size="30" pInputText name="quantity" [(ngModel)]="newItem.Quantity"> 
														    <label for="quantity">Cantidad</label>
														</span>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <span class="ui-float-label">
														    <input id="price" required type="number" size="30" pInputText name="price" [(ngModel)]="newItem.Pieces"> 
														    <label for="price">Precio unitario</label>
														</span>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <span class="ui-float-label">
														    <input id="total" type="number" size="30" pInputText name="total" value="{{(newItem.Pieces * newItem.Quantity) || 0}}" [disabled]="true"> 
														    <label for="total">Total</label>
														</span>
                                                    </div>
                                                </div>
                                                <button type="submit" class="btn btn-primary margin-inline pull-right" [disabled]="form.$invalid">
                                                	<i class="fa fa-plus" aria-hidden="true"></i>
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="card-block">
                                <div class="mb-5">
                                    <!-- Horizontal Form -->
                                    <div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-lg-12" *ngIf="order != undefined">
                                                    <p-dataTable [value]="order.OrderItems" [globalFilter]="filterText" [immutable]="false" [editable]="true">
                                                        <p-column field="ConceptCode" header="# Concepto"></p-column>
                                                        <p-column field="ConceptName" header="ArtÃ­culo"></p-column>
                                                        <p-column field="Quantity" header="Cantidad"></p-column>
                                                        <p-column field="Price" header="Precio">
                                                            <ng-template let-col let-car="rowData" pTemplate="body">
                                                                <span>{{ car[col.field] | currency:'USD':true:'4.0-2' }}</span>
                                                            </ng-template>
                                                        </p-column>
                                                        <p-column field="Total" header="Total">
                                                            <ng-template let-col let-car="rowData" pTemplate="body">
                                                                <span>{{ car[col.field] | currency:'USD':true:'4.0-2' }}</span>
                                                            </ng-template>
                                                        </p-column>
                                                        <p-column styleClass="col-button" header="Acciones">
                                                            <ng-template let-searchVal="rowData" let-i="rowIndex" pTemplate="body">
                                                                <!--<button type="button" class="btn btn-icon btn-danger mr-2 mb-2 swal-btn-warning" (click)="delete(searchVal.Id, i)">
                                                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                                                </button>-->
                                                                <!--<button type="button" class="btn btn-icon btn-primary mr-2 mb-2" (click)="update(searchVal)">
                                                                    <i class="icmn-spinner11" aria-hidden="true"></i>
                                                                </button>-->
                                                            </ng-template>
                                                        </p-column>
                                                    </p-dataTable>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>